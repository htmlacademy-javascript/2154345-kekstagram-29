(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const h of a)if(h.type==="childList")for(const E of h.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&l(E)}).observe(document,{childList:!0,subtree:!0});function i(a){const h={};return a.integrity&&(h.integrity=a.integrity),a.referrerPolicy&&(h.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?h.credentials="include":a.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(a){if(a.ep)return;a.ep=!0;const h=i(a);fetch(a.href,h)}})();const ue=(t,e)=>{const i=Math.ceil(Math.min(t,e)),l=Math.floor(Math.max(t,e)),a=Math.random()*(l-i+1)+i;return Math.floor(a)},ot=t=>t[ue(0,t.length-1)],pt=t=>t.key==="Escape",vt=t=>{const e=document.querySelector(`#${t}`);if(e===null)throw new Error(`Template with id ${t} not found`);const i=e.content.firstElementChild;if(i===null)throw new Error(`Template with id ${t} not found`);return i},te=(t,e,i,l)=>{i||(i=t.classList[0]);let a;if(l?a=t.querySelector(`.${i}__${e}--${l}`):a=t.querySelector(`.${i}__${e}`),a===null)throw new Error(`Element ${e} not found in block ${i}`);return a},gt=(t,e,i)=>{const l=document.createDocumentFragment();t.forEach(a=>l.append(i(a))),e.append(l)},Ce=(t,e=!0)=>{t.classList.toggle("hidden",!e),document.body.classList.toggle("modal-open",e)},nr=["Всё отлично!","В целом всё неплохо. Но не всё.","Когда вы делаете фотографию, хорошо бы убирать палец из кадра. В конце концов это просто непрофессионально.","Моя бабушка случайно чихнула с фотоаппаратом в руках и у неё получилась фотография лучше.","Я поскользнулся на банановой кожуре и уронил фотоаппарат на кота и у меня получилась фотография лучше.","Лица у людей на фотке перекошены, как будто их избивают. Как можно было поймать такой неудачный момент?!"],sr=["Серега Серый","Саня Белый","Никитос Черный","Гошан Фиолетовый","Леха Бордовый","Максон Зеленый","Дэнчик Желтый","Ромчик Пурпурный","Викуся Камуфляжная"],Be=(t,e)=>{const i=[];return function(){let l=ue(t,e);if(i.length>=e-t+1)return null;for(;i.includes(l);)l=ue(t,e);return i.push(l),l}},ir=Be(1,25),ar=Be(1,25),or=Be(1,800),lr=()=>({id:or(),avatar:`img/avatar-${ue(1,6)}.svg`,message:ot(nr),name:ot(sr)}),ur=()=>({id:ir(),url:`photos/${ar()}.jpg`,description:"Скоро тут появится полноценное описание!",likes:ue(15,200),comments:Array.from({length:ue(1,30)},lr)}),cr=()=>Array.from({length:25},ur),St=document.querySelector(".social__comment-count"),be=document.querySelector(".social__comments-loader"),fr=vt("comment"),we=document.querySelector(".social__comments"),dr=5;if(!be||!we||!St||!we)throw new Error("Critical elements for comments were not found");const mr=({avatar:t,name:e,message:i})=>{const l=fr.cloneNode(!0),a=te(l,"picture","social"),h=te(l,"text","social");return a.src=t,a.alt=e,h.textContent=i,l};let le=0,$e=[];be.addEventListener("click",()=>{const t=$e.length,e=Math.min(le+dr,t),i=$e.slice(le,e);gt(i,we,mr),le=e,St.textContent=`${le} из ${t} комментариев`;const l=le>=t;be.hidden=l});const hr=t=>{$e=t,be.click()},Et=()=>{we.innerHTML="",le=0};Et();const ie=document.querySelector(".big-picture"),bt=document.querySelector(".big-picture__cancel");if(!ie||!bt)throw new Error("Critical. Big picture or close button were not found.");const wt=ie.querySelector(".big-picture__img img"),xt=ie.querySelector(".likes-count"),yt=ie.querySelector(".comments-count"),Ct=ie.querySelector(".social__caption"),pr=document.querySelector(".social__comments-loader");if(!wt||!xt||!yt||!Ct||!pr)throw new Error("Critical big picture elements were not found.");const vr=({url:t,description:e,likes:i,comments:l})=>{wt.src=t,xt.textContent=i.toString(),yt.textContent=l.length.toString(),Ct.textContent=e,hr(l)},gr=t=>{Ce(ie),vr(t),document.addEventListener("keydown",Pt)},At=()=>{Ce(ie,!1),Et(),document.removeEventListener("keydown",Pt)};bt.addEventListener("click",At);function Pt(t){pt(t)&&(t.preventDefault(),At())}const Sr=cr(),_t=document.querySelector(".pictures"),Lt=vt("picture");if(!_t||!Lt)throw new Error("Critical. Picture elements not found.");const Er=({url:t,description:e,likes:i,comments:l})=>{const a=Lt.cloneNode(!0),h=te(a,"img");if(!h)throw new Error("Critical. Picture elements not found.");return h.src=t,h.alt=e,te(a,"likes").textContent=i.toString(),te(a,"comments").textContent=l.length.toString(),a};gt(Sr,_t,t=>{const e=Er(t);return e.addEventListener("click",()=>gr(t)),e});const N=document.querySelector(".img-upload__form"),Ke=N==null?void 0:N.querySelector(".img-upload__overlay"),me=document.querySelector(".img-upload__preview img"),Dt=document.querySelector(".img-upload__effect-level"),Vt=document.querySelector(".effect-level__slider"),br=document.querySelector(".effects__list");if(!N||!Ke||!me||!Vt)throw new Error("Form or her critical elements were not found.");const Ge=document.querySelector(".scale"),wr=te(Ge,"control","scale","smaller"),xr=te(Ge,"control","scale","bigger"),Mt=te(Ge,"control","scale","value"),yr=(t,e=!0)=>e?Math.max(.25,t-.25):Math.min(1,t+.25),Cr=t=>{me.style.transform=`scale(${t})`,Mt.value=`${t*100}%`},Ar=()=>{me.style.removeProperty("transform")},kt=(t=!0)=>{const e=parseInt(Mt.value,10)/100,i=yr(e,t);Cr(i)};wr.addEventListener("click",()=>{kt(!0)});xr.addEventListener("click",()=>{kt(!1)});var Pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ot={exports:{}};(function(t,e){(function(i,l){t.exports=l()})(Pr,function(){var i={en:{required:"This field is required",email:"This field requires a valid e-mail address",number:"This field requires a number",integer:"This field requires an integer value",url:"This field requires a valid website URL",tel:"This field requires a valid telephone number",maxlength:"This fields length must be < ${1}",minlength:"This fields length must be > ${1}",min:"Minimum value for this field is ${1}",max:"Maximum value for this field is ${1}",pattern:"Please match the requested format",equals:"The two fields do not match",default:"Please enter a correct value"}};function l(w,p){for(;(w=w.parentElement)&&!w.classList.contains(p););return w}function a(w){var p=arguments;return this.replace(/\${([^{}]*)}/g,function(A,m){return p[m]})}function h(w){return w.pristine.self.form.querySelectorAll('input[name="'+w.getAttribute("name")+'"]:checked').length}function E(w,p){for(var A in p)A in w||(w[A]=p[A]);return w}var V={classTo:"form-group",errorClass:"has-danger",successClass:"has-success",errorTextParent:"form-group",errorTextTag:"div",errorTextClass:"text-help"},v="pristine-error",z="input:not([type^=hidden]):not([type^=submit]), select, textarea",G=["required","min","max","minlength","maxlength","pattern"],R=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,C=/-message(?:-([a-z]{2}(?:_[A-Z]{2})?))?/,q="en",M={},_=function(p,A){A.name=p,A.priority===void 0&&(A.priority=1),M[p]=A};_("text",{fn:function(p){return!0},priority:0}),_("required",{fn:function(p){return this.type==="radio"||this.type==="checkbox"?h(this):p!==void 0&&p.trim()!==""},priority:99,halt:!0}),_("email",{fn:function(p){return!p||R.test(p)}}),_("number",{fn:function(p){return!p||!isNaN(parseFloat(p))},priority:2}),_("integer",{fn:function(p){return!p||/^\d+$/.test(p)}}),_("minlength",{fn:function(p,A){return!p||p.length>=parseInt(A)}}),_("maxlength",{fn:function(p,A){return!p||p.length<=parseInt(A)}}),_("min",{fn:function(p,A){return!p||(this.type==="checkbox"?h(this)>=parseInt(A):parseFloat(p)>=parseFloat(A))}}),_("max",{fn:function(p,A){return!p||(this.type==="checkbox"?h(this)<=parseInt(A):parseFloat(p)<=parseFloat(A))}}),_("pattern",{fn:function(p,A){var m=A.match(new RegExp("^/(.*?)/([gimy]*)$"));return!p||new RegExp(m[1],m[2]).test(p)}}),_("equals",{fn:function(p,A){var m=document.querySelector(A);return m&&(!p&&!m.value||m.value===p)}});function J(w,p,A){var m=this;ae(w,p,A);function ae(f,g,y){f.setAttribute("novalidate","true"),m.form=f,m.config=E(g||{},V),m.live=y!==!1,m.fields=Array.from(f.querySelectorAll(z)).map(function(b){var x=[],L={},Z={};return[].forEach.call(b.attributes,function(j){if(/^data-pristine-/.test(j.name)){var W=j.name.substr(14),oe=W.match(C);if(oe!==null){var fe=oe[1]===void 0?"en":oe[1];Z.hasOwnProperty(fe)||(Z[fe]={}),Z[fe][W.slice(0,W.length-oe[0].length)]=j.value;return}W==="type"&&(W=j.value),X(x,L,W,j.value)}else~G.indexOf(j.name)?X(x,L,j.name,j.value):j.name==="type"&&X(x,L,j.value)}),x.sort(function(j,W){return W.priority-j.priority}),m.live&&b.addEventListener(~["radio","checkbox"].indexOf(b.getAttribute("type"))?"change":"input",function(j){m.validate(j.target)}.bind(m)),b.pristine={input:b,validators:x,params:L,messages:Z,self:m}}.bind(m))}function X(f,g,y,b){var x=M[y];if(x&&(f.push(x),b)){var L=y==="pattern"?[b]:b.split(",");L.unshift(null),g[y]=L}}m.validate=function(f,g){g=f&&g===!0||f===!0;var y=m.fields;f!==!0&&f!==!1&&(f instanceof HTMLElement?y=[f.pristine]:(f instanceof NodeList||f instanceof(window.$||Array)||f instanceof Array)&&(y=Array.from(f).map(function(Z){return Z.pristine})));for(var b=!0,x=0;y[x];x++){var L=y[x];_e(L)?!g&&De(L):(b=!1,!g&&pe(L))}return b},m.getErrors=function(f){if(!f){for(var g=[],y=0;y<m.fields.length;y++){var b=m.fields[y];b.errors.length&&g.push({input:b.input,errors:b.errors})}return g}return f.tagName&&f.tagName.toLowerCase()==="select"?f.pristine.errors:f.length?f[0].pristine.errors:f.pristine.errors};function _e(f){for(var g=[],y=!0,b=0;f.validators[b];b++){var x=f.validators[b],L=f.params[x.name]?f.params[x.name]:[];if(L[0]=f.input.value,!x.fn.apply(f.input,L)&&(y=!1,typeof x.msg=="function"?g.push(x.msg(f.input.value,L)):typeof x.msg=="string"?g.push(a.apply(x.msg,L)):x.msg===Object(x.msg)&&x.msg[q]?g.push(a.apply(x.msg[q],L)):f.messages[q]&&f.messages[q][x.name]?g.push(a.apply(f.messages[q][x.name],L)):i[q]&&i[q][x.name]?g.push(a.apply(i[q][x.name],L)):g.push(a.apply(i[q].default,L)),x.halt===!0))break}return f.errors=g,y}m.addValidator=function(f,g,y,b,x){f instanceof HTMLElement?(f.pristine.validators.push({fn:g,msg:y,priority:b,halt:x}),f.pristine.validators.sort(function(L,Z){return Z.priority-L.priority})):console.warn("The parameter elem must be a dom element")};function ce(f){if(f.errorElements)return f.errorElements;var g=l(f.input,m.config.classTo),y=null,b=null;return m.config.classTo===m.config.errorTextParent?y=g:y=g.querySelector("."+m.config.errorTextParent),y&&(b=y.querySelector("."+v),b||(b=document.createElement(m.config.errorTextTag),b.className=v+" "+m.config.errorTextClass,y.appendChild(b),b.pristineDisplay=b.style.display)),f.errorElements=[g,b]}function pe(f){var g=ce(f),y=g[0],b=g[1],x=f.input,L=x.id||Math.floor(new Date().valueOf()*Math.random()),Z="error-"+L;y&&(y.classList.remove(m.config.successClass),y.classList.add(m.config.errorClass),x.setAttribute("aria-describedby",Z),x.setAttribute("aria-invalid","true")),b&&(b.setAttribute("id",Z),b.setAttribute("role","alert"),b.innerHTML=f.errors.join("<br/>"),b.style.display=b.pristineDisplay||"")}m.addError=function(f,g){f=f.length?f[0]:f,f.pristine.errors.push(g),pe(f.pristine)};function Le(f){var g=ce(f),y=g[0],b=g[1],x=f.input;return y&&(y.classList.remove(m.config.errorClass),y.classList.remove(m.config.successClass),x.removeAttribute("aria-describedby"),x.removeAttribute("aria-invalid")),b&&(b.removeAttribute("id"),b.removeAttribute("role"),b.innerHTML="",b.style.display="none"),g}function De(f){var g=Le(f)[0];g&&g.classList.add(m.config.successClass)}return m.reset=function(){for(var f=0;m.fields[f];f++)m.fields[f].errorElements=null;Array.from(m.form.querySelectorAll("."+v)).map(function(g){g.parentNode.removeChild(g)}),Array.from(m.form.querySelectorAll("."+m.config.classTo)).map(function(g){g.classList.remove(m.config.successClass),g.classList.remove(m.config.errorClass)})},m.destroy=function(){m.reset(),m.fields.forEach(function(f){delete f.input.pristine}),m.fields=[]},m.setGlobalConfig=function(f){V=f},m}return J.addValidator=function(w,p,A,m,ae){_(w,{fn:p,msg:A,priority:m,halt:ae})},J.addMessages=function(w,p){var A=i.hasOwnProperty(w)?i[w]:i[w]={};Object.keys(p).forEach(function(m,ae){A[m]=p[m]})},J.setLocale=function(w){q=w},J})})(Ot);var Lr=Ot.exports;const Dr=_r(Lr),Vr=N.hashtags,Mr=/^#[A-Za-zА-Яа-я0-9]{1,19}$/,Ae=new Dr(N,{classTo:"img-upload__field-wrapper",errorTextParent:"img-upload__field-wrapper",errorTextTag:"span",errorTextClass:"text__error"});let se="";const kr=t=>t.trim().toLowerCase().split(" ").filter(e=>!!e.length),Or=t=>new Set(t).size===t.length,Tr=t=>{if(t.length===0)return!0;const e=kr(t);return e.length>5?(se="Нельзя указать больше пяти хэш-тегов",!1):Or(e)?e.every(i=>i[0]!=="#"?(se="Хэш-тег должен начинаться с #",!1):i.length>20?(se="Хэш-тег должен быть не больше 20 символов",!1):i==="#"?(se="Хэш-тег не может состоять только из одной решетки",!1):Mr.test(i)?!0:(se="Хэш-тег может содержать только буквы и цифры",!1)):(se="Хэш-теги не должны повторяться",!1)};Ae.addValidator(Vr,Tr,()=>se);const Rr=()=>Ae.validate(),Ur=()=>Ae.reset();N.addEventListener("submit",t=>{t.preventDefault(),Ae.validate()});var ee;(function(t){t.Range="range",t.Steps="steps",t.Positions="positions",t.Count="count",t.Values="values"})(ee||(ee={}));var K;(function(t){t[t.None=-1]="None",t[t.NoValue=0]="NoValue",t[t.LargeValue=1]="LargeValue",t[t.SmallValue=2]="SmallValue"})(K||(K={}));function qr(t){return xe(t)&&typeof t.from=="function"}function xe(t){return typeof t=="object"&&typeof t.to=="function"}function lt(t){t.parentElement.removeChild(t)}function Ne(t){return t!=null}function ut(t){t.preventDefault()}function Fr(t){return t.filter(function(e){return this[e]?!1:this[e]=!0},{})}function Hr(t,e){return Math.round(t/e)*e}function zr(t,e){var i=t.getBoundingClientRect(),l=t.ownerDocument,a=l.documentElement,h=Tt(l);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(h.x=0),e?i.top+h.y-a.clientTop:i.left+h.x-a.clientLeft}function Y(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function ct(t,e,i){i>0&&(B(t,e),setTimeout(function(){Ee(t,e)},i))}function ft(t){return Math.max(Math.min(t,100),0)}function Pe(t){return Array.isArray(t)?t:[t]}function $r(t){t=String(t);var e=t.split(".");return e.length>1?e[1].length:0}function B(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function Ee(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function Nr(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function Tt(t){var e=window.pageXOffset!==void 0,i=(t.compatMode||"")==="CSS1Compat",l=e?window.pageXOffset:i?t.documentElement.scrollLeft:t.body.scrollLeft,a=e?window.pageYOffset:i?t.documentElement.scrollTop:t.body.scrollTop;return{x:l,y:a}}function jr(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function Ir(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch{}return t}function Br(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function Xe(t,e){return 100/(e-t)}function je(t,e,i){return e*100/(t[i+1]-t[i])}function Kr(t,e){return je(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}function Gr(t,e){return e*(t[1]-t[0])/100+t[0]}function he(t,e){for(var i=1;t>=e[i];)i+=1;return i}function Xr(t,e,i){if(i>=t.slice(-1)[0])return 100;var l=he(i,t),a=t[l-1],h=t[l],E=e[l-1],V=e[l];return E+Kr([a,h],i)/Xe(E,V)}function Zr(t,e,i){if(i>=100)return t.slice(-1)[0];var l=he(i,e),a=t[l-1],h=t[l],E=e[l-1],V=e[l];return Gr([a,h],(i-E)*Xe(E,V))}function Wr(t,e,i,l){if(l===100)return l;var a=he(l,t),h=t[a-1],E=t[a];return i?l-h>(E-h)/2?E:h:e[a-1]?t[a-1]+Hr(l-t[a-1],e[a-1]):l}var Rt=function(){function t(e,i,l){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[l||!1],this.xNumSteps=[!1],this.snap=i;var a,h=[];for(Object.keys(e).forEach(function(E){h.push([Pe(e[E]),E])}),h.sort(function(E,V){return E[0][0]-V[0][0]}),a=0;a<h.length;a++)this.handleEntryPoint(h[a][1],h[a][0]);for(this.xNumSteps=this.xSteps.slice(0),a=0;a<this.xNumSteps.length;a++)this.handleStepPoint(a,this.xNumSteps[a])}return t.prototype.getDistance=function(e){for(var i=[],l=0;l<this.xNumSteps.length-1;l++)i[l]=je(this.xVal,e,l);return i},t.prototype.getAbsoluteDistance=function(e,i,l){var a=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[a+1];)a++;else e===this.xPct[this.xPct.length-1]&&(a=this.xPct.length-2);!l&&e===this.xPct[a+1]&&a++,i===null&&(i=[]);var h,E=1,V=i[a],v=0,z=0,G=0,R=0;for(l?h=(e-this.xPct[a])/(this.xPct[a+1]-this.xPct[a]):h=(this.xPct[a+1]-e)/(this.xPct[a+1]-this.xPct[a]);V>0;)v=this.xPct[a+1+R]-this.xPct[a+R],i[a+R]*E+100-h*100>100?(z=v*h,E=(V-100*h)/i[a+R],h=1):(z=i[a+R]*v/100*E,E=0),l?(G=G-z,this.xPct.length+R>=1&&R--):(G=G+z,this.xPct.length-R>=1&&R++),V=i[a+R]*E;return e+G},t.prototype.toStepping=function(e){return e=Xr(this.xVal,this.xPct,e),e},t.prototype.fromStepping=function(e){return Zr(this.xVal,this.xPct,e)},t.prototype.getStep=function(e){return e=Wr(this.xPct,this.xSteps,this.snap,e),e},t.prototype.getDefaultStep=function(e,i,l){var a=he(e,this.xPct);return(e===100||i&&e===this.xPct[a-1])&&(a=Math.max(a-1,1)),(this.xVal[a]-this.xVal[a-1])/l},t.prototype.getNearbySteps=function(e){var i=he(e,this.xPct);return{stepBefore:{startValue:this.xVal[i-2],step:this.xNumSteps[i-2],highestStep:this.xHighestCompleteStep[i-2]},thisStep:{startValue:this.xVal[i-1],step:this.xNumSteps[i-1],highestStep:this.xHighestCompleteStep[i-1]},stepAfter:{startValue:this.xVal[i],step:this.xNumSteps[i],highestStep:this.xHighestCompleteStep[i]}}},t.prototype.countStepDecimals=function(){var e=this.xNumSteps.map($r);return Math.max.apply(null,e)},t.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},t.prototype.convert=function(e){return this.getStep(this.toStepping(e))},t.prototype.handleEntryPoint=function(e,i){var l;if(e==="min"?l=0:e==="max"?l=100:l=parseFloat(e),!Y(l)||!Y(i[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(l),this.xVal.push(i[0]);var a=Number(i[1]);l?this.xSteps.push(isNaN(a)?!1:a):isNaN(a)||(this.xSteps[0]=a),this.xHighestCompleteStep.push(0)},t.prototype.handleStepPoint=function(e,i){if(i){if(this.xVal[e]===this.xVal[e+1]){this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e];return}this.xSteps[e]=je([this.xVal[e],this.xVal[e+1]],i,0)/Xe(this.xPct[e],this.xPct[e+1]);var l=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],a=Math.ceil(Number(l.toFixed(3))-1),h=this.xVal[e]+this.xNumSteps[e]*a;this.xHighestCompleteStep[e]=h}},t}(),dt={to:function(t){return t===void 0?"":t.toFixed(2)},from:Number},Ut={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},Q={tooltips:".__tooltips",aria:".__aria"};function Yr(t,e){if(!Y(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function Jr(t,e){if(!Y(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function Qr(t,e){if(!Y(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");t.keyboardMultiplier=e}function en(t,e){if(!Y(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function tn(t,e){if(typeof e!="object"||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(e.min===void 0||e.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new Rt(e,t.snap||!1,t.singleStep)}function rn(t,e){if(e=Pe(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function nn(t,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");t.snap=e}function sn(t,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");t.animate=e}function an(t,e){if(typeof e!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");t.animationDuration=e}function on(t,e){var i=[!1],l;if(e==="lower"?e=[!0,!1]:e==="upper"&&(e=[!1,!0]),e===!0||e===!1){for(l=1;l<t.handles;l++)i.push(e);i.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");i=e}t.connect=i}function ln(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function qt(t,e){if(!Y(e))throw new Error("noUiSlider: 'margin' option must be numeric.");e!==0&&(t.margin=t.spectrum.getDistance(e))}function un(t,e){if(!Y(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function cn(t,e){var i;if(!Y(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&!(e.length===2||Y(e[0])||Y(e[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(e!==0){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],i=0;i<t.spectrum.xNumSteps.length-1;i++)if(t.padding[0][i]<0||t.padding[1][i]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var l=e[0]+e[1],a=t.spectrum.xVal[0],h=t.spectrum.xVal[t.spectrum.xVal.length-1];if(l/(h-a)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function fn(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function dn(t,e){if(typeof e!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=e.indexOf("tap")>=0,l=e.indexOf("drag")>=0,a=e.indexOf("fixed")>=0,h=e.indexOf("snap")>=0,E=e.indexOf("hover")>=0,V=e.indexOf("unconstrained")>=0,v=e.indexOf("drag-all")>=0,z=e.indexOf("smooth-steps")>=0;if(a){if(t.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");qt(t,t.start[1]-t.start[0])}if(V&&(t.margin||t.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:i||h,drag:l,dragAll:v,smoothSteps:z,fixed:a,snap:h,hover:E,unconstrained:V}}function mn(t,e){if(e!==!1)if(e===!0||xe(e)){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(e)}else{if(e=Pe(e),e.length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(l){if(typeof l!="boolean"&&!xe(l))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),t.tooltips=e}}function hn(t,e){if(e.length!==t.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");t.handleAttributes=e}function pn(t,e){if(!xe(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");t.ariaFormat=e}function vn(t,e){if(!qr(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");t.format=e}function gn(t,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");t.keyboardSupport=e}function Sn(t,e){t.documentElement=e}function En(t,e){if(typeof e!="string"&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function bn(t,e){if(typeof e!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof t.cssPrefix=="string"?(t.cssClasses={},Object.keys(e).forEach(function(i){t.cssClasses[i]=t.cssPrefix+e[i]})):t.cssClasses=e}function Ft(t){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:dt,format:dt},i={step:{r:!1,t:Yr},keyboardPageMultiplier:{r:!1,t:Jr},keyboardMultiplier:{r:!1,t:Qr},keyboardDefaultStep:{r:!1,t:en},start:{r:!0,t:rn},connect:{r:!0,t:on},direction:{r:!0,t:fn},snap:{r:!1,t:nn},animate:{r:!1,t:sn},animationDuration:{r:!1,t:an},range:{r:!0,t:tn},orientation:{r:!1,t:ln},margin:{r:!1,t:qt},limit:{r:!1,t:un},padding:{r:!1,t:cn},behaviour:{r:!0,t:dn},ariaFormat:{r:!1,t:pn},format:{r:!1,t:vn},tooltips:{r:!1,t:mn},keyboardSupport:{r:!0,t:gn},documentElement:{r:!1,t:Sn},cssPrefix:{r:!0,t:En},cssClasses:{r:!0,t:bn},handleAttributes:{r:!1,t:hn}},l={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Ut,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(i).forEach(function(v){if(!Ne(t[v])&&l[v]===void 0){if(i[v].r)throw new Error("noUiSlider: '"+v+"' is required.");return}i[v].t(e,Ne(t[v])?t[v]:l[v])}),e.pips=t.pips;var a=document.createElement("div"),h=a.style.msTransform!==void 0,E=a.style.transform!==void 0;e.transformRule=E?"transform":h?"msTransform":"webkitTransform";var V=[["left","top"],["right","bottom"]];return e.style=V[e.dir][e.ort],e}function wn(t,e,i){var l=jr(),a=Br(),h=a&&Ir(),E=t,V,v,z,G,R,C=e.spectrum,q=[],M=[],_=[],J=0,w={},p=t.ownerDocument,A=e.documentElement||p.documentElement,m=p.body,ae=p.dir==="rtl"||e.ort===1?0:100;function X(r,n){var s=p.createElement("div");return n&&B(s,n),r.appendChild(s),s}function _e(r,n){var s=X(r,e.cssClasses.origin),o=X(s,e.cssClasses.handle);if(X(o,e.cssClasses.touchArea),o.setAttribute("data-handle",String(n)),e.keyboardSupport&&(o.setAttribute("tabindex","0"),o.addEventListener("keydown",function(u){return Gt(u,n)})),e.handleAttributes!==void 0){var c=e.handleAttributes[n];Object.keys(c).forEach(function(u){o.setAttribute(u,c[u])})}return o.setAttribute("role","slider"),o.setAttribute("aria-orientation",e.ort?"vertical":"horizontal"),n===0?B(o,e.cssClasses.handleLower):n===e.handles-1&&B(o,e.cssClasses.handleUpper),s.handle=o,s}function ce(r,n){return n?X(r,e.cssClasses.connect):!1}function pe(r,n){var s=X(n,e.cssClasses.connects);v=[],z=[],z.push(ce(s,r[0]));for(var o=0;o<e.handles;o++)v.push(_e(n,o)),_[o]=o,z.push(ce(s,r[o+1]))}function Le(r){B(r,e.cssClasses.target),e.dir===0?B(r,e.cssClasses.ltr):B(r,e.cssClasses.rtl),e.ort===0?B(r,e.cssClasses.horizontal):B(r,e.cssClasses.vertical);var n=getComputedStyle(r).direction;return n==="rtl"?B(r,e.cssClasses.textDirectionRtl):B(r,e.cssClasses.textDirectionLtr),X(r,e.cssClasses.base)}function De(r,n){return!e.tooltips||!e.tooltips[n]?!1:X(r.firstChild,e.cssClasses.tooltip)}function f(){return E.hasAttribute("disabled")}function g(r){var n=v[r];return n.hasAttribute("disabled")}function y(r){r!=null?(v[r].setAttribute("disabled",""),v[r].handle.removeAttribute("tabindex")):(E.setAttribute("disabled",""),v.forEach(function(n){n.handle.removeAttribute("tabindex")}))}function b(r){r!=null?(v[r].removeAttribute("disabled"),v[r].handle.setAttribute("tabindex","0")):(E.removeAttribute("disabled"),v.forEach(function(n){n.removeAttribute("disabled"),n.handle.setAttribute("tabindex","0")}))}function x(){R&&(de("update"+Q.tooltips),R.forEach(function(r){r&&lt(r)}),R=null)}function L(){x(),R=v.map(De),Te("update"+Q.tooltips,function(r,n,s){if(!(!R||!e.tooltips)&&R[n]!==!1){var o=r[n];e.tooltips[n]!==!0&&(o=e.tooltips[n].to(s[n])),R[n].innerHTML=o}})}function Z(){de("update"+Q.aria),Te("update"+Q.aria,function(r,n,s,o,c){_.forEach(function(u){var S=v[u],d=ve(M,u,0,!0,!0,!0),k=ve(M,u,100,!0,!0,!0),D=c[u],O=String(e.ariaFormat.to(s[u]));d=C.fromStepping(d).toFixed(1),k=C.fromStepping(k).toFixed(1),D=C.fromStepping(D).toFixed(1),S.children[0].setAttribute("aria-valuemin",d),S.children[0].setAttribute("aria-valuemax",k),S.children[0].setAttribute("aria-valuenow",D),S.children[0].setAttribute("aria-valuetext",O)})})}function j(r){if(r.mode===ee.Range||r.mode===ee.Steps)return C.xVal;if(r.mode===ee.Count){if(r.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var n=r.values-1,s=100/n,o=[];n--;)o[n]=n*s;return o.push(100),W(o,r.stepped)}return r.mode===ee.Positions?W(r.values,r.stepped):r.mode===ee.Values?r.stepped?r.values.map(function(c){return C.fromStepping(C.getStep(C.toStepping(c)))}):r.values:[]}function W(r,n){return r.map(function(s){return C.fromStepping(n?C.getStep(s):s)})}function oe(r){function n(D,O){return Number((D+O).toFixed(7))}var s=j(r),o={},c=C.xVal[0],u=C.xVal[C.xVal.length-1],S=!1,d=!1,k=0;return s=Fr(s.slice().sort(function(D,O){return D-O})),s[0]!==c&&(s.unshift(c),S=!0),s[s.length-1]!==u&&(s.push(u),d=!0),s.forEach(function(D,O){var T,P,F,I=D,H=s[O+1],$,qe,Fe,He,st,ze,it,at=r.mode===ee.Steps;for(at&&(T=C.xNumSteps[O]),T||(T=H-I),H===void 0&&(H=I),T=Math.max(T,1e-7),P=I;P<=H;P=n(P,T)){for($=C.toStepping(P),qe=$-k,st=qe/(r.density||1),ze=Math.round(st),it=qe/ze,F=1;F<=ze;F+=1)Fe=k+F*it,o[Fe.toFixed(5)]=[C.fromStepping(Fe),0];He=s.indexOf(P)>-1?K.LargeValue:at?K.SmallValue:K.NoValue,!O&&S&&P!==H&&(He=0),P===H&&d||(o[$.toFixed(5)]=[P,He]),k=$}}),o}function fe(r,n,s){var o,c,u=p.createElement("div"),S=(o={},o[K.None]="",o[K.NoValue]=e.cssClasses.valueNormal,o[K.LargeValue]=e.cssClasses.valueLarge,o[K.SmallValue]=e.cssClasses.valueSub,o),d=(c={},c[K.None]="",c[K.NoValue]=e.cssClasses.markerNormal,c[K.LargeValue]=e.cssClasses.markerLarge,c[K.SmallValue]=e.cssClasses.markerSub,c),k=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],D=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];B(u,e.cssClasses.pips),B(u,e.ort===0?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical);function O(P,F){var I=F===e.cssClasses.value,H=I?k:D,$=I?S:d;return F+" "+H[e.ort]+" "+$[P]}function T(P,F,I){if(I=n?n(F,I):I,I!==K.None){var H=X(u,!1);H.className=O(I,e.cssClasses.marker),H.style[e.style]=P+"%",I>K.NoValue&&(H=X(u,!1),H.className=O(I,e.cssClasses.value),H.setAttribute("data-value",String(F)),H.style[e.style]=P+"%",H.innerHTML=String(s.to(F)))}}return Object.keys(r).forEach(function(P){T(P,r[P][0],r[P][1])}),u}function Ve(){G&&(lt(G),G=null)}function Me(r){Ve();var n=oe(r),s=r.filter,o=r.format||{to:function(c){return String(Math.round(c))}};return G=E.appendChild(fe(n,s,o)),G}function We(){var r=V.getBoundingClientRect(),n="offset"+["Width","Height"][e.ort];return e.ort===0?r.width||V[n]:r.height||V[n]}function re(r,n,s,o){var c=function(S){var d=$t(S,o.pageOffset,o.target||n);if(!d||f()&&!o.doNotReject||Nr(E,e.cssClasses.tap)&&!o.doNotReject||r===l.start&&d.buttons!==void 0&&d.buttons>1||o.hover&&d.buttons)return!1;h||d.preventDefault(),d.calcPoint=d.points[e.ort],s(d,o)},u=[];return r.split(" ").forEach(function(S){n.addEventListener(S,c,h?{passive:!0}:!1),u.push([S,c])}),u}function $t(r,n,s){var o=r.type.indexOf("touch")===0,c=r.type.indexOf("mouse")===0,u=r.type.indexOf("pointer")===0,S=0,d=0;if(r.type.indexOf("MSPointer")===0&&(u=!0),r.type==="mousedown"&&!r.buttons&&!r.touches)return!1;if(o){var k=function(T){var P=T.target;return P===s||s.contains(P)||r.composed&&r.composedPath().shift()===s};if(r.type==="touchstart"){var D=Array.prototype.filter.call(r.touches,k);if(D.length>1)return!1;S=D[0].pageX,d=D[0].pageY}else{var O=Array.prototype.find.call(r.changedTouches,k);if(!O)return!1;S=O.pageX,d=O.pageY}}return n=n||Tt(p),(c||u)&&(S=r.clientX+n.x,d=r.clientY+n.y),r.pageOffset=n,r.points=[S,d],r.cursor=c||u,r}function Ye(r){var n=r-zr(V,e.ort),s=n*100/We();return s=ft(s),e.dir?100-s:s}function Nt(r){var n=100,s=!1;return v.forEach(function(o,c){if(!g(c)){var u=M[c],S=Math.abs(u-r),d=S===100&&n===100,k=S<n,D=S<=n&&r>u;(k||D||d)&&(s=c,n=S)}}),s}function jt(r,n){r.type==="mouseout"&&r.target.nodeName==="HTML"&&r.relatedTarget===null&&ke(r,n)}function It(r,n){if(navigator.appVersion.indexOf("MSIE 9")===-1&&r.buttons===0&&n.buttonsProperty!==0)return ke(r,n);var s=(e.dir?-1:1)*(r.calcPoint-n.startCalcPoint),o=s*100/n.baseSize;Je(s>0,o,n.locations,n.handleNumbers,n.connect)}function ke(r,n){n.handle&&(Ee(n.handle,e.cssClasses.active),J-=1),n.listeners.forEach(function(s){A.removeEventListener(s[0],s[1])}),J===0&&(Ee(E,e.cssClasses.drag),Ue(),r.cursor&&(m.style.cursor="",m.removeEventListener("selectstart",ut))),e.events.smoothSteps&&(n.handleNumbers.forEach(function(s){ne(s,M[s],!0,!0,!1,!1)}),n.handleNumbers.forEach(function(s){U("update",s)})),n.handleNumbers.forEach(function(s){U("change",s),U("set",s),U("end",s)})}function Oe(r,n){if(!n.handleNumbers.some(g)){var s;if(n.handleNumbers.length===1){var o=v[n.handleNumbers[0]];s=o.children[0],J+=1,B(s,e.cssClasses.active)}r.stopPropagation();var c=[],u=re(l.move,A,It,{target:r.target,handle:s,connect:n.connect,listeners:c,startCalcPoint:r.calcPoint,baseSize:We(),pageOffset:r.pageOffset,handleNumbers:n.handleNumbers,buttonsProperty:r.buttons,locations:M.slice()}),S=re(l.end,A,ke,{target:r.target,handle:s,listeners:c,doNotReject:!0,handleNumbers:n.handleNumbers}),d=re("mouseout",A,jt,{target:r.target,handle:s,listeners:c,doNotReject:!0,handleNumbers:n.handleNumbers});c.push.apply(c,u.concat(S,d)),r.cursor&&(m.style.cursor=getComputedStyle(r.target).cursor,v.length>1&&B(E,e.cssClasses.drag),m.addEventListener("selectstart",ut,!1)),n.handleNumbers.forEach(function(k){U("start",k)})}}function Bt(r){r.stopPropagation();var n=Ye(r.calcPoint),s=Nt(n);s!==!1&&(e.events.snap||ct(E,e.cssClasses.tap,e.animationDuration),ne(s,n,!0,!0),Ue(),U("slide",s,!0),U("update",s,!0),e.events.snap?Oe(r,{handleNumbers:[s]}):(U("change",s,!0),U("set",s,!0)))}function Kt(r){var n=Ye(r.calcPoint),s=C.getStep(n),o=C.fromStepping(s);Object.keys(w).forEach(function(c){c.split(".")[0]==="hover"&&w[c].forEach(function(u){u.call(Se,o)})})}function Gt(r,n){if(f()||g(n))return!1;var s=["Left","Right"],o=["Down","Up"],c=["PageDown","PageUp"],u=["Home","End"];e.dir&&!e.ort?s.reverse():e.ort&&!e.dir&&(o.reverse(),c.reverse());var S=r.key.replace("Arrow",""),d=S===c[0],k=S===c[1],D=S===o[0]||S===s[0]||d,O=S===o[1]||S===s[1]||k,T=S===u[0],P=S===u[1];if(!D&&!O&&!T&&!P)return!0;r.preventDefault();var F;if(O||D){var I=D?0:1,H=nt(n),$=H[I];if($===null)return!1;$===!1&&($=C.getDefaultStep(M[n],D,e.keyboardDefaultStep)),k||d?$*=e.keyboardPageMultiplier:$*=e.keyboardMultiplier,$=Math.max($,1e-7),$=(D?-1:1)*$,F=q[n]+$}else P?F=e.spectrum.xVal[e.spectrum.xVal.length-1]:F=e.spectrum.xVal[0];return ne(n,C.toStepping(F),!0,!0),U("slide",n),U("update",n),U("change",n),U("set",n),!1}function Xt(r){r.fixed||v.forEach(function(n,s){re(l.start,n.children[0],Oe,{handleNumbers:[s]})}),r.tap&&re(l.start,V,Bt,{}),r.hover&&re(l.move,V,Kt,{hover:!0}),r.drag&&z.forEach(function(n,s){if(!(n===!1||s===0||s===z.length-1)){var o=v[s-1],c=v[s],u=[n],S=[o,c],d=[s-1,s];B(n,e.cssClasses.draggable),r.fixed&&(u.push(o.children[0]),u.push(c.children[0])),r.dragAll&&(S=v,d=_),u.forEach(function(k){re(l.start,k,Oe,{handles:S,handleNumbers:d,connect:n})})}})}function Te(r,n){w[r]=w[r]||[],w[r].push(n),r.split(".")[0]==="update"&&v.forEach(function(s,o){U("update",o)})}function Zt(r){return r===Q.aria||r===Q.tooltips}function de(r){var n=r&&r.split(".")[0],s=n?r.substring(n.length):r;Object.keys(w).forEach(function(o){var c=o.split(".")[0],u=o.substring(c.length);(!n||n===c)&&(!s||s===u)&&(!Zt(u)||s===u)&&delete w[o]})}function U(r,n,s){Object.keys(w).forEach(function(o){var c=o.split(".")[0];r===c&&w[o].forEach(function(u){u.call(Se,q.map(e.format.to),n,q.slice(),s||!1,M.slice(),Se)})})}function ve(r,n,s,o,c,u,S){var d;return v.length>1&&!e.events.unconstrained&&(o&&n>0&&(d=C.getAbsoluteDistance(r[n-1],e.margin,!1),s=Math.max(s,d)),c&&n<v.length-1&&(d=C.getAbsoluteDistance(r[n+1],e.margin,!0),s=Math.min(s,d))),v.length>1&&e.limit&&(o&&n>0&&(d=C.getAbsoluteDistance(r[n-1],e.limit,!1),s=Math.min(s,d)),c&&n<v.length-1&&(d=C.getAbsoluteDistance(r[n+1],e.limit,!0),s=Math.max(s,d))),e.padding&&(n===0&&(d=C.getAbsoluteDistance(0,e.padding[0],!1),s=Math.max(s,d)),n===v.length-1&&(d=C.getAbsoluteDistance(100,e.padding[1],!0),s=Math.min(s,d))),S||(s=C.getStep(s)),s=ft(s),s===r[n]&&!u?!1:s}function Re(r,n){var s=e.ort;return(s?n:r)+", "+(s?r:n)}function Je(r,n,s,o,c){var u=s.slice(),S=o[0],d=e.events.smoothSteps,k=[!r,r],D=[r,!r];o=o.slice(),r&&o.reverse(),o.length>1?o.forEach(function(T,P){var F=ve(u,T,u[T]+n,k[P],D[P],!1,d);F===!1?n=0:(n=F-u[T],u[T]=F)}):k=D=[!0];var O=!1;o.forEach(function(T,P){O=ne(T,s[T]+n,k[P],D[P],!1,d)||O}),O&&(o.forEach(function(T){U("update",T),U("slide",T)}),c!=null&&U("drag",S))}function Qe(r,n){return e.dir?100-r-n:r}function Wt(r,n){M[r]=n,q[r]=C.fromStepping(n);var s=Qe(n,0)-ae,o="translate("+Re(s+"%","0")+")";v[r].style[e.transformRule]=o,et(r),et(r+1)}function Ue(){_.forEach(function(r){var n=M[r]>50?-1:1,s=3+(v.length+n*r);v[r].style.zIndex=String(s)})}function ne(r,n,s,o,c,u){return c||(n=ve(M,r,n,s,o,!1,u)),n===!1?!1:(Wt(r,n),!0)}function et(r){if(z[r]){var n=0,s=100;r!==0&&(n=M[r-1]),r!==z.length-1&&(s=M[r]);var o=s-n,c="translate("+Re(Qe(n,o)+"%","0")+")",u="scale("+Re(o/100,"1")+")";z[r].style[e.transformRule]=c+" "+u}}function tt(r,n){return r===null||r===!1||r===void 0||(typeof r=="number"&&(r=String(r)),r=e.format.from(r),r!==!1&&(r=C.toStepping(r)),r===!1||isNaN(r))?M[n]:r}function ge(r,n,s){var o=Pe(r),c=M[0]===void 0;n=n===void 0?!0:n,e.animate&&!c&&ct(E,e.cssClasses.tap,e.animationDuration),_.forEach(function(d){ne(d,tt(o[d],d),!0,!1,s)});var u=_.length===1?0:1;if(c&&C.hasNoSize()&&(s=!0,M[0]=0,_.length>1)){var S=100/(_.length-1);_.forEach(function(d){M[d]=d*S})}for(;u<_.length;++u)_.forEach(function(d){ne(d,M[d],!0,!0,s)});Ue(),_.forEach(function(d){U("update",d),o[d]!==null&&n&&U("set",d)})}function Yt(r){ge(e.start,r)}function Jt(r,n,s,o){if(r=Number(r),!(r>=0&&r<_.length))throw new Error("noUiSlider: invalid handle number, got: "+r);ne(r,tt(n,r),!0,!0,o),U("update",r),s&&U("set",r)}function rt(r){if(r===void 0&&(r=!1),r)return q.length===1?q[0]:q.slice(0);var n=q.map(e.format.to);return n.length===1?n[0]:n}function Qt(){for(de(Q.aria),de(Q.tooltips),Object.keys(e.cssClasses).forEach(function(r){Ee(E,e.cssClasses[r])});E.firstChild;)E.removeChild(E.firstChild);delete E.noUiSlider}function nt(r){var n=M[r],s=C.getNearbySteps(n),o=q[r],c=s.thisStep.step,u=null;if(e.snap)return[o-s.stepBefore.startValue||null,s.stepAfter.startValue-o||null];c!==!1&&o+c>s.stepAfter.startValue&&(c=s.stepAfter.startValue-o),o>s.thisStep.startValue?u=s.thisStep.step:s.stepBefore.step===!1?u=!1:u=o-s.stepBefore.highestStep,n===100?c=null:n===0&&(u=null);var S=C.countStepDecimals();return c!==null&&c!==!1&&(c=Number(c.toFixed(S))),u!==null&&u!==!1&&(u=Number(u.toFixed(S))),[u,c]}function er(){return _.map(nt)}function tr(r,n){var s=rt(),o=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];o.forEach(function(u){r[u]!==void 0&&(i[u]=r[u])});var c=Ft(i);o.forEach(function(u){r[u]!==void 0&&(e[u]=c[u])}),C=c.spectrum,e.margin=c.margin,e.limit=c.limit,e.padding=c.padding,e.pips?Me(e.pips):Ve(),e.tooltips?L():x(),M=[],ge(Ne(r.start)?r.start:s,n)}function rr(){V=Le(E),pe(e.connect,V),Xt(e.events),ge(e.start),e.pips&&Me(e.pips),e.tooltips&&L(),Z()}rr();var Se={destroy:Qt,steps:er,on:Te,off:de,get:rt,set:ge,setHandle:Jt,reset:Yt,disable:y,enable:b,__moveHandles:function(r,n,s){Je(r,n,M,s)},options:i,updateOptions:tr,target:E,removePips:Ve,removeTooltips:x,getPositions:function(){return M.slice()},getTooltips:function(){return R},getOrigins:function(){return v},pips:Me};return Se}function xn(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var i=Ft(e),l=wn(t,i,e);return t.noUiSlider=l,l}const yn={__spectrum:Rt,cssClasses:Ut,create:xn};const ye=(t=0,e=100,i=1,l=e)=>({range:{min:t,max:e},start:l,step:i}),mt=ye(),ht=ye(0,1,.1),Ze={none:{slider:mt},chrome:{slider:ht,filter:t=>`grayscale(${t})`},sepia:{slider:ht,filter:t=>`sepia(${t})`},marvin:{slider:mt,filter:t=>`invert(${t}%)`},phobos:{slider:ye(0,3,.1),filter:t=>`blur(${t}px)`},heat:{slider:ye(1,3,.1),filter:t=>`brightness(${t})`}},Cn=new Event("change"),Ie=yn.create(Vt,{...Ze.none.slider,connect:"lower"});Dt.hidden=!0;br.addEventListener("change",()=>{const t=N.effect.value;Dt.hidden=t==="none",Ie.updateOptions(Ze[t].slider,!1)});Ie.on("update",()=>{const t=Ie.get();N["effect-level"].value=String(t);const e=N.effect.value;if(e==="none")return me.style.removeProperty("filter");const i=Ze[e].filter;me.style.filter=i(t)});const An=()=>{N.effect.value="none",document.dispatchEvent(Cn)},Ht=()=>N.reset();N.filename.addEventListener("change",()=>{Ce(Ke),document.addEventListener("keydown",zt)});N.addEventListener("reset",()=>{Ce(Ke,!1),document.removeEventListener("keydown",zt),Ur(),Ar(),An()});N.addEventListener("submit",t=>{t.preventDefault(),Rr()&&Ht()});function zt(t){const e=N.hashtags===document.activeElement||N.description===document.activeElement;pt(t)&&!e&&Ht()}
